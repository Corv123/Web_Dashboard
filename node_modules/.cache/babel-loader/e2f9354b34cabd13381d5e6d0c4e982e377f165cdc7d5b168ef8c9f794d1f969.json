{"ast":null,"code":"import { API_BASE_URL, apiRequest } from \"../../../services/api\";\n\n// Users API\nexport const getAllUsers = async () => {\n  try {\n    const data = await apiRequest('/users');\n    console.log('Users API response:', data);\n\n    // Handle different response structures using helper function\n    let users = [];\n    if (Array.isArray(data)) {\n      users = data;\n    } else if (data.result && Array.isArray(data.result.data)) {\n      users = data.result.data;\n    } else if (data.data && Array.isArray(data.data)) {\n      users = data.data;\n    } else if (data.users && Array.isArray(data.users)) {\n      users = data.users;\n    } else {\n      console.warn('Unexpected users API response structure:', data);\n      return [];\n    }\n\n    // Return raw data - processing will be done in utils\n    return users.map(user => ({\n      id: user.user_id || user._id || user.id,\n      user_id: user.user_id,\n      username: user.username,\n      user_mobile_number: user.user_mobile_number,\n      user_email: user.user_email,\n      user_allow_dark_mode: user.user_allow_dark_mode,\n      user_round_up_pref: user.user_round_up_pref,\n      user_discount_donate: user.user_discount_donate,\n      user_login_status: user.user_login_status,\n      user_gender: user.user_gender,\n      password: user.password,\n      user_default_donation_method: user.user_default_donation_method,\n      tokens: user.tokens,\n      // Keep original structure for backward compatibility\n      ...user\n    }));\n  } catch (error) {\n    console.error('Failed to fetch users:', error);\n    return [];\n  }\n};\nexport const getUserById = async id => {\n  try {\n    const data = await apiRequest(`/users/${id}`);\n    console.log(`User ${id} API response:`, data);\n\n    // Return normalized single user data structure\n    if (data) {\n      return {\n        id: data.user_id || data._id || data.id,\n        user_id: data.user_id,\n        username: data.username,\n        user_mobile_number: data.user_mobile_number,\n        user_email: data.user_email,\n        user_allow_dark_mode: data.user_allow_dark_mode,\n        user_round_up_pref: data.user_round_up_pref,\n        user_discount_donate: data.user_discount_donate,\n        user_login_status: data.user_login_status,\n        user_gender: data.user_gender,\n        password: data.password,\n        user_default_donation_method: data.user_default_donation_method,\n        tokens: data.tokens,\n        // Keep original structure for backward compatibility\n        ...data\n      };\n    }\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch user ${id}:`, error);\n    return null;\n  }\n};\n\n// Donations API\nexport const getAllDonations = async () => {\n  try {\n    const data = await apiRequest('/donations');\n    console.log('Donations API response:', data);\n\n    // Handle different response structures\n    if (Array.isArray(data)) {\n      return data;\n    } else if (data.result && Array.isArray(data.result.data)) {\n      return data.result.data;\n    } else if (data.data && Array.isArray(data.data)) {\n      return data.data;\n    } else if (data.donations && Array.isArray(data.donations)) {\n      return data.donations;\n    } else {\n      console.warn('Unexpected donations API response structure:', data);\n      return [];\n    }\n  } catch (error) {\n    console.error('Failed to fetch donations:', error);\n    return [];\n  }\n};\nexport const getDonationById = async id => {\n  try {\n    const data = await apiRequest(`/donations/${id}`);\n    console.log(`Donation ${id} API response:`, data);\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch donation ${id}:`, error);\n    return null;\n  }\n};\n\n// Orders API\nexport const getAllOrders = async () => {\n  try {\n    const data = await apiRequest('/orders');\n    console.log('Orders API response:', data);\n\n    // Handle different response structures\n    let orders = [];\n    if (Array.isArray(data)) {\n      orders = data;\n    } else if (data.result && Array.isArray(data.result.data)) {\n      orders = data.result.data;\n    } else if (data.data && Array.isArray(data.data)) {\n      orders = data.data;\n    } else if (data.orders && Array.isArray(data.orders)) {\n      orders = data.orders;\n    } else {\n      console.warn('Unexpected orders API response structure:', data);\n      return [];\n    }\n\n    // Return raw data with minimal processing - detailed processing in utils\n    return orders.map(order => ({\n      id: order.order_id || order._id || order.id,\n      order_id: order.order_id,\n      order_status: order.order_status,\n      order_cost: Number(order.order_cost) || 0,\n      total_order_cost: Number(order.total_order_cost) || 0,\n      order_type: order.order_type,\n      merchant_name: order.merchant_name,\n      merchant_location: order.merchant_location,\n      order_complete_datetime: order.order_complete_datetime,\n      user_id: order.user_id,\n      order_tokens: order.order_tokens,\n      order_items: order.order_items || [],\n      // Keep original structure for backward compatibility\n      ...order\n    }));\n  } catch (error) {\n    console.error('Failed to fetch orders:', error);\n    return [];\n  }\n};","map":{"version":3,"names":["API_BASE_URL","apiRequest","getAllUsers","data","console","log","users","Array","isArray","result","warn","map","user","id","user_id","_id","username","user_mobile_number","user_email","user_allow_dark_mode","user_round_up_pref","user_discount_donate","user_login_status","user_gender","password","user_default_donation_method","tokens","error","getUserById","getAllDonations","donations","getDonationById","getAllOrders","orders","order","order_id","order_status","order_cost","Number","total_order_cost","order_type","merchant_name","merchant_location","order_complete_datetime","order_tokens","order_items"],"sources":["C:/Users/mingj/Downloads/Web_Dashboard/src/components/dashboard/processors/getProcessor.js"],"sourcesContent":["import { API_BASE_URL, apiRequest } from \"../../../services/api\";\r\n\r\n// Users API\r\nexport const getAllUsers = async () => {\r\n  try {\r\n    const data = await apiRequest('/users');\r\n    console.log('Users API response:', data);\r\n    \r\n    // Handle different response structures using helper function\r\n    let users = [];\r\n    if (Array.isArray(data)) {\r\n      users = data;\r\n    } else if (data.result && Array.isArray(data.result.data)) {\r\n      users = data.result.data;\r\n    } else if (data.data && Array.isArray(data.data)) {\r\n      users = data.data;\r\n    } else if (data.users && Array.isArray(data.users)) {\r\n      users = data.users;\r\n    } else {\r\n      console.warn('Unexpected users API response structure:', data);\r\n      return [];\r\n    }\r\n\r\n    // Return raw data - processing will be done in utils\r\n    return users.map(user => ({\r\n      id: user.user_id || user._id || user.id,\r\n      user_id: user.user_id,\r\n      username: user.username,\r\n      user_mobile_number: user.user_mobile_number,\r\n      user_email: user.user_email,\r\n      user_allow_dark_mode: user.user_allow_dark_mode,\r\n      user_round_up_pref: user.user_round_up_pref,\r\n      user_discount_donate: user.user_discount_donate,\r\n      user_login_status: user.user_login_status,\r\n      user_gender: user.user_gender,\r\n      password: user.password,\r\n      user_default_donation_method: user.user_default_donation_method,\r\n      tokens: user.tokens,\r\n      // Keep original structure for backward compatibility\r\n      ...user\r\n    }));\r\n  } catch (error) {\r\n    console.error('Failed to fetch users:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getUserById = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/users/${id}`);\r\n    console.log(`User ${id} API response:`, data);\r\n    \r\n    // Return normalized single user data structure\r\n    if (data) {\r\n      return {\r\n        id: data.user_id || data._id || data.id,\r\n        user_id: data.user_id,\r\n        username: data.username,\r\n        user_mobile_number: data.user_mobile_number,\r\n        user_email: data.user_email,\r\n        user_allow_dark_mode: data.user_allow_dark_mode,\r\n        user_round_up_pref: data.user_round_up_pref,\r\n        user_discount_donate: data.user_discount_donate,\r\n        user_login_status: data.user_login_status,\r\n        user_gender: data.user_gender,\r\n        password: data.password,\r\n        user_default_donation_method: data.user_default_donation_method,\r\n        tokens: data.tokens,\r\n        // Keep original structure for backward compatibility\r\n        ...data\r\n      };\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to fetch user ${id}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Donations API\r\nexport const getAllDonations = async () => {\r\n  try {\r\n    const data = await apiRequest('/donations');\r\n    console.log('Donations API response:', data);\r\n    \r\n    // Handle different response structures\r\n    if (Array.isArray(data)) {\r\n      return data;\r\n    } else if (data.result && Array.isArray(data.result.data)) {\r\n      return data.result.data;\r\n    } else if (data.data && Array.isArray(data.data)) {\r\n      return data.data;\r\n    } else if (data.donations && Array.isArray(data.donations)) {\r\n      return data.donations;\r\n    } else {\r\n      console.warn('Unexpected donations API response structure:', data);\r\n      return [];\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to fetch donations:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getDonationById = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/donations/${id}`);\r\n    console.log(`Donation ${id} API response:`, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to fetch donation ${id}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Orders API\r\nexport const getAllOrders = async () => {\r\n  try {\r\n    const data = await apiRequest('/orders');\r\n    console.log('Orders API response:', data);\r\n    \r\n    // Handle different response structures\r\n    let orders = [];\r\n    if (Array.isArray(data)) {\r\n      orders = data;\r\n    } else if (data.result && Array.isArray(data.result.data)) {\r\n      orders = data.result.data;\r\n    } else if (data.data && Array.isArray(data.data)) {\r\n      orders = data.data;\r\n    } else if (data.orders && Array.isArray(data.orders)) {\r\n      orders = data.orders;\r\n    } else {\r\n      console.warn('Unexpected orders API response structure:', data);\r\n      return [];\r\n    }\r\n\r\n    // Return raw data with minimal processing - detailed processing in utils\r\n    return orders.map(order => ({\r\n      id: order.order_id || order._id || order.id,\r\n      order_id: order.order_id,\r\n      order_status: order.order_status,\r\n      order_cost: Number(order.order_cost) || 0,\r\n      total_order_cost: Number(order.total_order_cost) || 0,\r\n      order_type: order.order_type,\r\n      merchant_name: order.merchant_name,\r\n      merchant_location: order.merchant_location,\r\n      order_complete_datetime: order.order_complete_datetime,\r\n      user_id: order.user_id,\r\n      order_tokens: order.order_tokens,\r\n      order_items: order.order_items || [],\r\n      // Keep original structure for backward compatibility\r\n      ...order\r\n    }));\r\n  } catch (error) {\r\n    console.error('Failed to fetch orders:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}