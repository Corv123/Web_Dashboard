{"ast":null,"code":"// Environment-based API configuration\nconst getApiBaseUrl = () => {\n  // Check if we're in development or production\n  if (process.env.NODE_ENV === 'production') {\n    // production handler (not implemented at staging process)\n    return process.env.REACT_APP_API_BASE_URL || 'https://your-production-domain.com/api/v1';\n  } else {\n    // For local development, use localhost\n    // If your React app and API server are on the same machine\n    return process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000/api/v1';\n  }\n};\nconst API_BASE_URL = getApiBaseUrl();\n\n// Generic API error handler\nconst handleApiResponse = async response => {\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`API Error: ${response.status} - ${response.statusText}. ${errorText}`);\n  }\n  const contentType = response.headers.get('content-type');\n  if (contentType && contentType.includes('application/json')) {\n    return await response.json();\n  }\n  return await response.text();\n};\n\n// Generic fetch function with error handling and better debugging\nconst apiRequest = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  console.log(`Making API request to: ${url}`);\n  try {\n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      mode: 'cors',\n      credentials: 'include',\n      // Include credentials for CORS\n      ...options\n    });\n    return await handleApiResponse(response);\n  } catch (error) {\n    console.error(`API request failed for ${endpoint}:`, error);\n    console.error(`Full URL was: ${url}`);\n\n    // More detailed error information\n    if (error.name === 'TypeError' && error.message.includes('fetch')) {\n      console.error('This might be a CORS or network connectivity issue');\n      console.error('Make sure your backend server is running and has CORS properly configured');\n      console.error('Backend should allow origin: http://localhost:3000');\n    }\n    throw error;\n  }\n};\n\n// Test connection function\nexport const testApiConnection = async () => {\n  try {\n    console.log(`Testing API connection to: ${API_BASE_URL}`);\n\n    // Try a simple health check or users endpoint\n    const response = await fetch(`${API_BASE_URL}/users`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors'\n    });\n    if (response.ok) {\n      console.log('✅ API connection successful');\n      return true;\n    } else {\n      console.error('❌ API connection failed:', response.status, response.statusText);\n      return false;\n    }\n  } catch (error) {\n    console.error('❌ API connection test failed:', error);\n    return false;\n  }\n};\n\n// Users API\nexport const getAllUsers = async () => {\n  try {\n    const data = await apiRequest('/users');\n    console.log('Users API response:', data);\n\n    // Handle different response structures\n    let users = [];\n    if (Array.isArray(data)) {\n      users = data;\n    } else if (data.result && Array.isArray(data.result.data)) {\n      users = data.result.data;\n    } else if (data.data && Array.isArray(data.data)) {\n      users = data.data;\n    } else if (data.users && Array.isArray(data.users)) {\n      users = data.users;\n    } else {\n      console.warn('Unexpected users API response structure:', data);\n      return [];\n    }\n\n    // Process and normalize user data structure\n    return users.map(user => ({\n      id: user.user_id || user._id || user.id,\n      user_id: user.user_id,\n      username: user.username,\n      user_mobile_number: user.user_mobile_number,\n      user_email: user.user_email,\n      user_allow_dark_mode: user.user_allow_dark_mode,\n      user_round_up_pref: user.user_round_up_pref,\n      user_discount_donate: user.user_discount_donate,\n      user_login_status: user.user_login_status,\n      user_gender: user.user_gender,\n      password: user.password,\n      user_default_donation_method: user.user_default_donation_method,\n      tokens: user.tokens,\n      // Keep original structure for backward compatibility\n      ...user\n    }));\n  } catch (error) {\n    console.error('Failed to fetch users:', error);\n    return [];\n  }\n};\nexport const getUserById = async id => {\n  try {\n    const data = await apiRequest(`/users/${id}`);\n    console.log(`User ${id} API response:`, data);\n\n    // Normalize single user data structure\n    if (data) {\n      return {\n        id: data.user_id || data._id || data.id,\n        user_id: data.user_id,\n        username: data.username,\n        user_mobile_number: data.user_mobile_number,\n        user_email: data.user_email,\n        user_allow_dark_mode: data.user_allow_dark_mode,\n        user_round_up_pref: data.user_round_up_pref,\n        user_discount_donate: data.user_discount_donate,\n        user_login_status: data.user_login_status,\n        user_gender: data.user_gender,\n        password: data.password,\n        user_default_donation_method: data.user_default_donation_method,\n        tokens: data.tokens,\n        // Keep original structure for backward compatibility\n        ...data\n      };\n    }\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch user ${id}:`, error);\n    return null;\n  }\n};\nexport const createUser = async userData => {\n  try {\n    const data = await apiRequest('/users', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n    console.log('Create user API response:', data);\n    return data;\n  } catch (error) {\n    console.error('Failed to create user:', error);\n    throw error;\n  }\n};\nexport const updateUser = async (id, userData) => {\n  try {\n    const data = await apiRequest(`/users/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(userData)\n    });\n    console.log(`Update user ${id} API response:`, data);\n    return data;\n  } catch (error) {\n    console.error(`Failed to update user ${id}:`, error);\n    throw error;\n  }\n};\nexport const deleteUser = async id => {\n  try {\n    const data = await apiRequest(`/users/${id}`, {\n      method: 'DELETE'\n    });\n    console.log(`Delete user ${id} API response:`, data);\n    return data;\n  } catch (error) {\n    console.error(`Failed to delete user ${id}:`, error);\n    throw error;\n  }\n};\n\n// Donations API\nexport const getAllDonations = async () => {\n  try {\n    const data = await apiRequest('/donations');\n    console.log('Donations API response:', data);\n\n    // Handle different response structures\n    if (Array.isArray(data)) {\n      return data;\n    } else if (data.result && Array.isArray(data.result.data)) {\n      return data.result.data;\n    } else if (data.data && Array.isArray(data.data)) {\n      return data.data;\n    } else if (data.donations && Array.isArray(data.donations)) {\n      return data.donations;\n    } else {\n      console.warn('Unexpected donations API response structure:', data);\n      return [];\n    }\n  } catch (error) {\n    console.error('Failed to fetch donations:', error);\n    return [];\n  }\n};\nexport const getDonationById = async id => {\n  try {\n    const data = await apiRequest(`/donations/${id}`);\n    console.log(`Donation ${id} API response:`, data);\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch donation ${id}:`, error);\n    return null;\n  }\n};\nexport const createDonation = async donationData => {\n  try {\n    const data = await apiRequest('/donations', {\n      method: 'POST',\n      body: JSON.stringify(donationData)\n    });\n    console.log('Create donation API response:', data);\n    return data;\n  } catch (error) {\n    console.error('Failed to create donation:', error);\n    throw error;\n  }\n};\nexport const updateDonation = async (id, donationData) => {\n  try {\n    const data = await apiRequest(`/donations/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(donationData)\n    });\n    console.log(`Update donation ${id} API response:`, data);\n    return data;\n  } catch (error) {\n    console.error(`Failed to update donation ${id}:`, error);\n    throw error;\n  }\n};\nexport const deleteDonation = async id => {\n  try {\n    const data = await apiRequest(`/donations/${id}`, {\n      method: 'DELETE'\n    });\n    console.log(`Delete donation ${id} API response:`, data);\n    return data;\n  } catch (error) {\n    console.error(`Failed to delete donation ${id}:`, error);\n    throw error;\n  }\n};\n\n// Orders API\nexport const getAllOrders = async () => {\n  try {\n    const data = await apiRequest('/orders');\n    console.log('Orders API response:', data);\n\n    // Handle different response structures\n    let orders = [];\n    if (Array.isArray(data)) {\n      orders = data;\n    } else if (data.result && Array.isArray(data.result.data)) {\n      orders = data.result.data;\n    } else if (data.data && Array.isArray(data.data)) {\n      orders = data.data;\n    } else if (data.orders && Array.isArray(data.orders)) {\n      orders = data.orders;\n    } else {\n      console.warn('Unexpected orders API response structure:', data);\n      return [];\n    }\n\n    // Process and normalize order data structure\n    return orders.map(order => ({\n      id: order.order_id || order._id || order.id,\n      order_id: order.order_id,\n      order_status: order.order_status,\n      order_cost: Number(order.order_cost) || 0,\n      total_order_cost: Number(order.total_order_cost) || 0,\n      order_type: order.order_type,\n      merchant_name: order.merchant_name,\n      merchant_location: order.merchant_location,\n      order_complete_datetime: order.order_complete_datetime,\n      user_id: order.user_id,\n      order_tokens: order.order_tokens,\n      order_items: order.order_items || [],\n      // Keep original structure for backward compatibility\n      ...order\n    }));\n  } catch (error) {\n    console.error('Failed to fetch orders:', error);\n    return [];\n  }\n};\nexport const getOrderById = async id => {\n  try {\n    const data = await apiRequest(`/orders/${id}`);\n    console.log(`Order ${id} API response:`, data);\n\n    // Normalize single order data structure\n    if (data) {\n      return {\n        id: data.order_id || data._id || data.id,\n        order_id: data.order_id,\n        order_status: data.order_status,\n        order_cost: Number(data.order_cost) || 0,\n        total_order_cost: Number(data.total_order_cost) || 0,\n        order_type: data.order_type,\n        merchant_name: data.merchant_name,\n        merchant_location: data.merchant_location,\n        order_complete_datetime: data.order_complete_datetime,\n        user_id: data.user_id,\n        order_tokens: data.order_tokens,\n        order_items: data.order_items || [],\n        // Keep original structure for backward compatibility\n        ...data\n      };\n    }\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch order ${id}:`, error);\n    return null;\n  }\n};\n\n// Utility functions for data processing\nexport const processUsersData = users => {\n  if (!Array.isArray(users)) return [];\n  return users.map(user => ({\n    ...user,\n    // Ensure consistent ID mapping\n    id: user.user_id || user._id || user.id,\n    gender: user.user_gender || 'Unknown',\n    mobile: user.user_mobile_number,\n    email: user.user_email,\n    darkMode: user.user_allow_dark_mode,\n    roundUpPref: user.user_round_up_pref,\n    discountDonate: user.user_discount_donate,\n    loginStatus: user.user_login_status,\n    defaultDonationMethod: user.user_default_donation_method\n  }));\n};\nexport const processDonationsData = donations => {\n  if (!Array.isArray(donations)) return [];\n  return donations.map(donation => ({\n    ...donation,\n    // Add any data transformations here\n    id: donation._id || donation.donation_id,\n    amount: Number(donation.donation_amt) || 0,\n    dsgd_amount: Number(donation.donation_dsgd_amt) || 0,\n    datetime: donation.donation_datetime,\n    charity_id: donation.charity_id,\n    status: donation.donation_status,\n    type: donation.donation_type,\n    cause: donation.donation_cause,\n    user_id: donation.user_id\n  }));\n};\nexport const processOrdersData = orders => {\n  if (!Array.isArray(orders)) return [];\n  return orders.map(order => ({\n    ...order,\n    // Ensure consistent ID mapping\n    id: order.order_id || order._id || order.id,\n    cost: Number(order.order_cost) || 0,\n    totalCost: Number(order.total_order_cost) || 0,\n    status: order.order_status,\n    type: order.order_type,\n    merchant: order.merchant_name,\n    location: order.merchant_location,\n    datetime: order.order_complete_datetime,\n    userId: order.user_id,\n    tokens: order.order_tokens,\n    items: order.order_items || []\n  }));\n};\n\n// Dashboard specific API calls\nexport const getDashboardData = async () => {\n  try {\n    const [users, donations, orders] = await Promise.all([getAllUsers(), getAllDonations(), getAllOrders()]);\n    return {\n      users: processUsersData(users),\n      donations: processDonationsData(donations),\n      orders: processOrdersData(orders)\n    };\n  } catch (error) {\n    console.error('Failed to fetch dashboard data:', error);\n    return {\n      users: [],\n      donations: [],\n      orders: []\n    };\n  }\n};\n\n// Export API base URL for other components if needed\nexport { API_BASE_URL };","map":{"version":3,"names":["getApiBaseUrl","process","env","NODE_ENV","REACT_APP_API_BASE_URL","API_BASE_URL","handleApiResponse","response","ok","errorText","text","Error","status","statusText","contentType","headers","get","includes","json","apiRequest","endpoint","options","url","console","log","fetch","mode","credentials","error","name","message","testApiConnection","method","getAllUsers","data","users","Array","isArray","result","warn","map","user","id","user_id","_id","username","user_mobile_number","user_email","user_allow_dark_mode","user_round_up_pref","user_discount_donate","user_login_status","user_gender","password","user_default_donation_method","tokens","getUserById","createUser","userData","body","JSON","stringify","updateUser","deleteUser","getAllDonations","donations","getDonationById","createDonation","donationData","updateDonation","deleteDonation","getAllOrders","orders","order","order_id","order_status","order_cost","Number","total_order_cost","order_type","merchant_name","merchant_location","order_complete_datetime","order_tokens","order_items","getOrderById","processUsersData","gender","mobile","email","darkMode","roundUpPref","discountDonate","loginStatus","defaultDonationMethod","processDonationsData","donation","donation_id","amount","donation_amt","dsgd_amount","donation_dsgd_amt","datetime","donation_datetime","charity_id","donation_status","type","donation_type","cause","donation_cause","processOrdersData","cost","totalCost","merchant","location","userId","items","getDashboardData","Promise","all"],"sources":["C:/Users/mingj/Downloads/Web_Dashboard/src/services/api.js"],"sourcesContent":["// Environment-based API configuration\r\nconst getApiBaseUrl = () => {\r\n  // Check if we're in development or production\r\n  if (process.env.NODE_ENV === 'production') {\r\n    // production handler (not implemented at staging process)\r\n    return process.env.REACT_APP_API_BASE_URL || 'https://your-production-domain.com/api/v1';\r\n  } else {\r\n    // For local development, use localhost\r\n    // If your React app and API server are on the same machine\r\n    return process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000/api/v1';\r\n  }\r\n};\r\n\r\nconst API_BASE_URL = getApiBaseUrl();\r\n\r\n// Generic API error handler\r\nconst handleApiResponse = async (response) => {\r\n  if (!response.ok) {\r\n    const errorText = await response.text();\r\n    throw new Error(`API Error: ${response.status} - ${response.statusText}. ${errorText}`);\r\n  }\r\n  \r\n  const contentType = response.headers.get('content-type');\r\n  if (contentType && contentType.includes('application/json')) {\r\n    return await response.json();\r\n  }\r\n  return await response.text();\r\n};\r\n\r\n// Generic fetch function with error handling and better debugging\r\nconst apiRequest = async (endpoint, options = {}) => {\r\n  const url = `${API_BASE_URL}${endpoint}`;\r\n  console.log(`Making API request to: ${url}`);\r\n  \r\n  try {\r\n    const response = await fetch(url, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      mode: 'cors',\r\n      credentials: 'include', // Include credentials for CORS\r\n      ...options,\r\n    });\r\n    \r\n    return await handleApiResponse(response);\r\n  } catch (error) {\r\n    console.error(`API request failed for ${endpoint}:`, error);\r\n    console.error(`Full URL was: ${url}`);\r\n    \r\n    // More detailed error information\r\n    if (error.name === 'TypeError' && error.message.includes('fetch')) {\r\n      console.error('This might be a CORS or network connectivity issue');\r\n      console.error('Make sure your backend server is running and has CORS properly configured');\r\n      console.error('Backend should allow origin: http://localhost:3000');\r\n    }\r\n    \r\n    throw error;\r\n  }\r\n};\r\n\r\n// Test connection function\r\nexport const testApiConnection = async () => {\r\n  try {\r\n    console.log(`Testing API connection to: ${API_BASE_URL}`);\r\n    \r\n    // Try a simple health check or users endpoint\r\n    const response = await fetch(`${API_BASE_URL}/users`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      mode: 'cors',\r\n    });\r\n    \r\n    if (response.ok) {\r\n      console.log('✅ API connection successful');\r\n      return true;\r\n    } else {\r\n      console.error('❌ API connection failed:', response.status, response.statusText);\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ API connection test failed:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Users API\r\nexport const getAllUsers = async () => {\r\n  try {\r\n    const data = await apiRequest('/users');\r\n    console.log('Users API response:', data);\r\n    \r\n    // Handle different response structures\r\n    let users = [];\r\n    if (Array.isArray(data)) {\r\n      users = data;\r\n    } else if (data.result && Array.isArray(data.result.data)) {\r\n      users = data.result.data;\r\n    } else if (data.data && Array.isArray(data.data)) {\r\n      users = data.data;\r\n    } else if (data.users && Array.isArray(data.users)) {\r\n      users = data.users;\r\n    } else {\r\n      console.warn('Unexpected users API response structure:', data);\r\n      return [];\r\n    }\r\n\r\n    // Process and normalize user data structure\r\n    return users.map(user => ({\r\n      id: user.user_id || user._id || user.id,\r\n      user_id: user.user_id,\r\n      username: user.username,\r\n      user_mobile_number: user.user_mobile_number,\r\n      user_email: user.user_email,\r\n      user_allow_dark_mode: user.user_allow_dark_mode,\r\n      user_round_up_pref: user.user_round_up_pref,\r\n      user_discount_donate: user.user_discount_donate,\r\n      user_login_status: user.user_login_status,\r\n      user_gender: user.user_gender,\r\n      password: user.password,\r\n      user_default_donation_method: user.user_default_donation_method,\r\n      tokens: user.tokens,\r\n      // Keep original structure for backward compatibility\r\n      ...user\r\n    }));\r\n  } catch (error) {\r\n    console.error('Failed to fetch users:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getUserById = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/users/${id}`);\r\n    console.log(`User ${id} API response:`, data);\r\n    \r\n    // Normalize single user data structure\r\n    if (data) {\r\n      return {\r\n        id: data.user_id || data._id || data.id,\r\n        user_id: data.user_id,\r\n        username: data.username,\r\n        user_mobile_number: data.user_mobile_number,\r\n        user_email: data.user_email,\r\n        user_allow_dark_mode: data.user_allow_dark_mode,\r\n        user_round_up_pref: data.user_round_up_pref,\r\n        user_discount_donate: data.user_discount_donate,\r\n        user_login_status: data.user_login_status,\r\n        user_gender: data.user_gender,\r\n        password: data.password,\r\n        user_default_donation_method: data.user_default_donation_method,\r\n        tokens: data.tokens,\r\n        // Keep original structure for backward compatibility\r\n        ...data\r\n      };\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to fetch user ${id}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const createUser = async (userData) => {\r\n  try {\r\n    const data = await apiRequest('/users', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n    console.log('Create user API response:', data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Failed to create user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (id, userData) => {\r\n  try {\r\n    const data = await apiRequest(`/users/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(userData),\r\n    });\r\n    console.log(`Update user ${id} API response:`, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to update user ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/users/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n    console.log(`Delete user ${id} API response:`, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to delete user ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Donations API\r\nexport const getAllDonations = async () => {\r\n  try {\r\n    const data = await apiRequest('/donations');\r\n    console.log('Donations API response:', data);\r\n    \r\n    // Handle different response structures\r\n    if (Array.isArray(data)) {\r\n      return data;\r\n    } else if (data.result && Array.isArray(data.result.data)) {\r\n      return data.result.data;\r\n    } else if (data.data && Array.isArray(data.data)) {\r\n      return data.data;\r\n    } else if (data.donations && Array.isArray(data.donations)) {\r\n      return data.donations;\r\n    } else {\r\n      console.warn('Unexpected donations API response structure:', data);\r\n      return [];\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to fetch donations:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getDonationById = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/donations/${id}`);\r\n    console.log(`Donation ${id} API response:`, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to fetch donation ${id}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const createDonation = async (donationData) => {\r\n  try {\r\n    const data = await apiRequest('/donations', {\r\n      method: 'POST',\r\n      body: JSON.stringify(donationData),\r\n    });\r\n    console.log('Create donation API response:', data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Failed to create donation:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateDonation = async (id, donationData) => {\r\n  try {\r\n    const data = await apiRequest(`/donations/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(donationData),\r\n    });\r\n    console.log(`Update donation ${id} API response:`, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to update donation ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteDonation = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/donations/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n    console.log(`Delete donation ${id} API response:`, data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to delete donation ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Orders API\r\nexport const getAllOrders = async () => {\r\n  try {\r\n    const data = await apiRequest('/orders');\r\n    console.log('Orders API response:', data);\r\n    \r\n    // Handle different response structures\r\n    let orders = [];\r\n    if (Array.isArray(data)) {\r\n      orders = data;\r\n    } else if (data.result && Array.isArray(data.result.data)) {\r\n      orders = data.result.data;\r\n    } else if (data.data && Array.isArray(data.data)) {\r\n      orders = data.data;\r\n    } else if (data.orders && Array.isArray(data.orders)) {\r\n      orders = data.orders;\r\n    } else {\r\n      console.warn('Unexpected orders API response structure:', data);\r\n      return [];\r\n    }\r\n\r\n    // Process and normalize order data structure\r\n    return orders.map(order => ({\r\n      id: order.order_id || order._id || order.id,\r\n      order_id: order.order_id,\r\n      order_status: order.order_status,\r\n      order_cost: Number(order.order_cost) || 0,\r\n      total_order_cost: Number(order.total_order_cost) || 0,\r\n      order_type: order.order_type,\r\n      merchant_name: order.merchant_name,\r\n      merchant_location: order.merchant_location,\r\n      order_complete_datetime: order.order_complete_datetime,\r\n      user_id: order.user_id,\r\n      order_tokens: order.order_tokens,\r\n      order_items: order.order_items || [],\r\n      // Keep original structure for backward compatibility\r\n      ...order\r\n    }));\r\n  } catch (error) {\r\n    console.error('Failed to fetch orders:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getOrderById = async (id) => {\r\n  try {\r\n    const data = await apiRequest(`/orders/${id}`);\r\n    console.log(`Order ${id} API response:`, data);\r\n    \r\n    // Normalize single order data structure\r\n    if (data) {\r\n      return {\r\n        id: data.order_id || data._id || data.id,\r\n        order_id: data.order_id,\r\n        order_status: data.order_status,\r\n        order_cost: Number(data.order_cost) || 0,\r\n        total_order_cost: Number(data.total_order_cost) || 0,\r\n        order_type: data.order_type,\r\n        merchant_name: data.merchant_name,\r\n        merchant_location: data.merchant_location,\r\n        order_complete_datetime: data.order_complete_datetime,\r\n        user_id: data.user_id,\r\n        order_tokens: data.order_tokens,\r\n        order_items: data.order_items || [],\r\n        // Keep original structure for backward compatibility\r\n        ...data\r\n      };\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Failed to fetch order ${id}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\n\r\n// Utility functions for data processing\r\nexport const processUsersData = (users) => {\r\n  if (!Array.isArray(users)) return [];\r\n  \r\n  return users.map(user => ({\r\n    ...user,\r\n    // Ensure consistent ID mapping\r\n    id: user.user_id || user._id || user.id,\r\n    gender: user.user_gender || 'Unknown',\r\n    mobile: user.user_mobile_number,\r\n    email: user.user_email,\r\n    darkMode: user.user_allow_dark_mode,\r\n    roundUpPref: user.user_round_up_pref,\r\n    discountDonate: user.user_discount_donate,\r\n    loginStatus: user.user_login_status,\r\n    defaultDonationMethod: user.user_default_donation_method,\r\n  }));\r\n};\r\n\r\nexport const processDonationsData = (donations) => {\r\n  if (!Array.isArray(donations)) return [];\r\n  \r\n  return donations.map(donation => ({\r\n    ...donation,\r\n    // Add any data transformations here\r\n    id: donation._id || donation.donation_id,\r\n    amount: Number(donation.donation_amt) || 0,\r\n    dsgd_amount: Number(donation.donation_dsgd_amt) || 0,\r\n    datetime: donation.donation_datetime,\r\n    charity_id: donation.charity_id,\r\n    status: donation.donation_status,\r\n    type: donation.donation_type,\r\n    cause: donation.donation_cause,\r\n    user_id: donation.user_id,\r\n  }));\r\n};\r\n\r\nexport const processOrdersData = (orders) => {\r\n  if (!Array.isArray(orders)) return [];\r\n  \r\n  return orders.map(order => ({\r\n    ...order,\r\n    // Ensure consistent ID mapping\r\n    id: order.order_id || order._id || order.id,\r\n    cost: Number(order.order_cost) || 0,\r\n    totalCost: Number(order.total_order_cost) || 0,\r\n    status: order.order_status,\r\n    type: order.order_type,\r\n    merchant: order.merchant_name,\r\n    location: order.merchant_location,\r\n    datetime: order.order_complete_datetime,\r\n    userId: order.user_id,\r\n    tokens: order.order_tokens,\r\n    items: order.order_items || [],\r\n  }));\r\n};\r\n\r\n// Dashboard specific API calls\r\nexport const getDashboardData = async () => {\r\n  try {\r\n    const [users, donations, orders] = await Promise.all([\r\n      getAllUsers(),\r\n      getAllDonations(),\r\n      getAllOrders()\r\n    ]);\r\n\r\n    return {\r\n      users: processUsersData(users),\r\n      donations: processDonationsData(donations),\r\n      orders: processOrdersData(orders),\r\n    };\r\n  } catch (error) {\r\n    console.error('Failed to fetch dashboard data:', error);\r\n    return {\r\n      users: [],\r\n      donations: [],\r\n      orders: [],\r\n    };  \r\n  }\r\n};\r\n\r\n// Export API base URL for other components if needed\r\nexport { API_BASE_URL };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}